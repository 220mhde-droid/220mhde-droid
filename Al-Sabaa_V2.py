import os
import time
import base64

def alaa_field_recon():
    print("--- ๐ก๏ธ ููุธููุฉ ุงูุณุจุน ุงูููุฏุงููุฉ | V2 ---")
    print("[!] ูุถุน ุงูุงุณุชุทูุงุน ุงูุตุงูุช ูุดุท ุงูุขู...")
    
    # ููู ุงูุญููุจุฉ ุงูุณูุฏุงุก ูุชุฎุฒูู ุงูุตูุฏ
    log_file = "blackbox_recon.txt"
    
    try:
        while True:
            # 1. ุงูุฑุงุฏุงุฑ: ูุณุญ ุงูุดุจูุงุช
            print("\n[๐ก] ุฌุงุฑู ูุณุญ ุงููุญูุท...")
            scan = os.popen('dumpsys wifi | grep -E "SSID|level|BSSID"').read()
            
            if scan:
                # 2. ุงูุชุฎุฒูู: ุญูุธ ุงูุจูุงูุงุช ููุชุญููู ูุงุญูุงู
                with open(log_file, "a") as f:
                    timestamp = time.strftime("%H:%M:%S")
                    f.write(f"\n--- ุตูุฏ ุงูุณุงุนุฉ {timestamp} ---\n{scan}\n")
                
                print(f"[โ] ุชู ุฑุตุฏ ุฃูุฏุงู ูุชุฎุฒูููุง ูู {log_file}")
                
                # 3. ุงูุชูููู ุงูุชููุงุฆู (ูุญุงูุงุฉ ุงูุงุชุตุงู ูุงููุณุญ)
                # ููุงุญุธุฉ: ุงูุฃูุฏุฑููุฏ ูุญุชุงุฌ ุตูุงุญูุงุช ูุฏููุฉ ููุฑุจุทุ ุงูููุฏ ููุง ูููุฆ ุงููุณุงุฑ
                print("[๐] ูุชู ุงูุขู ุชูููู ุงููููุฉ ุงูุฑูููุฉ...")
                
            else:
                print("[!] ุงูููุทูุฉ ูุงุฏุฆุฉ.. ุงุณุชูุฑ ูู ุงูุชุญุฑู.")
            
            # ุงูุชููู ูู 5 ุซูุงูู ูุจู ุงููุณุญุฉ ุงูุชุงููุฉ ูุชูููุฑ ุงูุจุทุงุฑูุฉ
            time.sleep(5)
            
    except KeyboardInterrupt:
        print("\n[โ๏ธ] ุชู ุฅููุงู ุงูุฑุงุฏุงุฑ. ุฌุงุฑู ูุณุญ ุฃุซุงุฑ ุงูุนูููุงุช...")
        # ููุง ูููู ุฅุถุงูุฉ ุฃูุฑ ุญุฐู ุณุฌูุงุช ุงููุธุงู ุงููุคูุชุฉ
        print("[โ] ุงููุธุงู ูุธูู. ุดูุฑุงู ูุง ุนูุงุก.")

if __name__ == "__main__":
    # ุชุดุบูู ุงูููุธููุฉ
    alaa_field_recon()